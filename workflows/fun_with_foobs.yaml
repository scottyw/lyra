parameters:
  load_balancer_policy:
    type: String
    lookup: foobernetes.policies
returns: [ loadBalancerID ]

steps:

  # UNCOMMENT ME TO BREAK THINGS

  # ~/github/lyra (experiments ✘)✹ ᐅ build/bin/lyra apply fun_with_foobs
  # Failed to invoke method build/goplugins/yaml#Yaml::ManifestLoader/loadManifest() (file: /Users/scott/go/pkg/mod/github.com/lyraproj/servicesdk@v0.0.0-20190607070716-322c167d24a9/grpc/client.go, line: 106)
  # Caused by: Reference to unresolved type 'Foobernetes::Webserver' (file: workflows/foobernetes.yaml, line: 77, column: 5)

  # database2:
  #   returns:
  #     databaseID: instanceID
  #   Foobernetes::Instance:
  #     location: eu1
  #     image: "lyra::database"
  #     cpus: 16
  #     memory: 64G


  database:
    call: foobernetes
    returns: loadBalancerID